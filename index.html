<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>√Ålbum Virtual 3D</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* {
  margin:0;
  padding:0;
  box-sizing:border-box;
}

body {
  background: radial-gradient(circle at center, #111 0%, #000 70%);
  font-family: Arial, Helvetica, sans-serif;
  overflow:hidden;
  color:#fff;
}

/* ===== TOOLBAR ===== */
.toolbar {
  position:fixed;
  top:0;
  width:100%;
  height:56px;
  background:rgba(0,0,0,0.75);
  display:flex;
  justify-content:center;
  align-items:center;
  gap:16px;
  z-index:100;
  backdrop-filter: blur(8px);
}

.toolbar button {
  background:#1e1e1e;
  border:none;
  color:#fff;
  padding:10px 14px;
  border-radius:8px;
  cursor:pointer;
  font-size:15px;
  transition:.2s;
}

.toolbar button:hover {
  background:#333;
  transform:scale(1.05);
}

/* ===== STAGE ===== */
#stage {
  position:absolute;
  top:56px;
  left:0;
  width:100%;
  height:calc(100vh - 56px);
  display:flex;
  justify-content:center;
  align-items:center;
  perspective:2600px;
  overflow:hidden;
}

/* ===== BOOK ===== */
#book {
  width:min(92vw,720px);
  height:min(82vh,900px);
  position:relative;
  transform-style:preserve-3d;
}

/* ===== SPINE (LOMBADA) ===== */
#spine {
  position:absolute;
  left:-22px;
  top:0;
  width:22px;
  height:100%;
  background:linear-gradient(
    to right,
    #050505,
    #1a1a1a,
    #2a2a2a,
    #111
  );
  transform: rotateY(90deg);
  transform-origin:right center;
  border-radius:6px 0 0 6px;
  box-shadow:
    inset -2px 0 6px rgba(255,255,255,0.15),
    0 0 20px rgba(0,0,0,0.8);
}

/* ===== PAGE ===== */
.page {
  position:absolute;
  inset:0;
  background:#000;
  border-radius:12px;
  overflow:hidden;
  transform-origin:left center;
  backface-visibility:hidden;
  box-shadow:
    0 30px 80px rgba(0,0,0,0.7),
    inset -8px 0 12px rgba(255,255,255,0.06);
  transition:
    transform 1s cubic-bezier(.25,.8,.25,1),
    z-index .8s;
}

.page img {
  width:100%;
  height:100%;
  object-fit:contain;
  user-select:none;
}

/* ===== STATES ===== */
.page.flipped {
  transform: rotateY(-180deg);
}

.page.current {
  z-index:50;
}

.page.behind {
  z-index:1;
}

/* ===== INDICATOR ===== */
#indicator {
  position:fixed;
  bottom:14px;
  width:100%;
  text-align:center;
  font-size:14px;
  color:#ccc;
}

/* ===== ZOOM ===== */
#zoom {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.95);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:300;
}

#zoom img {
  max-width:95%;
  max-height:95%;
  cursor:zoom-out;
}

/* ===== MOBILE ===== */
@media(max-width:600px){
  #book {
    width:96vw;
    height:78vh;
  }
  #spine {
    left:-14px;
    width:14px;
  }
}
</style>
</head>

<body>

<div class="toolbar">
  <button onclick="prev()">‚üµ</button>
  <button onclick="next()">‚ü∂</button>
  <button onclick="toggleFullscreen()">üñ•</button>
</div>

<div id="stage">
  <div id="book">
    <div id="spine"></div>
  </div>
</div>

<div id="indicator"></div>

<div id="zoom" onclick="closeZoom()">
  <img id="zoomImg">
</div>

<script>
// ===== IMAGENS =====
const images = [
  "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/y5OULgSkTfmEFevVH6Sf_loR35892Czc/Dy85mrv_jbZUp1onboKxfJJyYVSz1JUI/U4y1x4H6X9pCsFBn2RAH-qGGC4IFVPta/uWbrLQxih0WNi86HfJcUhzy8Oli73U59.jpg",
  "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/qNEexo_dNL8-0oCofAljcVJFCTV3ZNlV/bdDGeVS7xD1w9l9IcE0L6z8vmYH8FFbe/A9zTFht7a6E7ez6hREaW3YOtprh60w0u/Wi1bdshLwU4.jpg",
  "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/Pw65VlFkMsO6lQV4CDlyrWsjXSkEz0Ah/c1i9ixp9Tg4A9hTDQdcO1Dxc_yoBdACL/FPfIlczoHtlqVb5752-w7QR0voXhMX9o/RQShPhBhB68.jpg",
  "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/zZqnEvAAIq6FvmDfHTFJsBgKq8WvL3nN/etBmGlCmqocfOuTYTj47VdmnJUlMdJQb/5pfWbmfSHzYVP2ZQTXxT0z3RwnNp6C5_/T83uCi3ltVc.jpg",
  "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/jiBuVFhkgxZMh4Wla0d04ExhZSW-9Y09/SZWHP4lTKay1zdNJyyl_XcVtWr2o6qxm/mpIIlAh7ux9fboPNVlRqOXz3N0GVMkMP/eVq_OU5Y-FU.jpg",
  "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/8gCM3saGL9vugTjFfIGW6HRjn6Ohg-Te/Z8J9OcgsHBZyJ6UI6sTsHRFqZFRF-a7M/bzylEzdicq9A1agfjdUp34Q1wfpHF8Eb/fGgeWxfcm1A.jpg",
  "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/e3HkNKPh5OqI4T4PYUEFR0zzPbBA8PBB/IlBpfiue1_ALoFp_3RBlUp5V4kCwsQ3q/tk-pFB0oWzVexZlmuqVzvh4Wbp75Zjyz/-_FFkk8xOXI.jpg"
];

const book = document.getElementById("book");
const indicator = document.getElementById("indicator");
let current = 0;

// ===== CREATE PAGES =====
images.forEach((src, i) => {
  const page = document.createElement("div");
  page.className = "page";
  page.style.zIndex = images.length - i;
  page.innerHTML = `<img src="${src}" draggable="false">`;
  page.onclick = () => openZoom(src);
  book.appendChild(page);
});

// ===== UPDATE =====
function render() {
  const pages = document.querySelectorAll(".page");
  pages.forEach((p, i) => {
    p.classList.remove("flipped","current","behind");

    if(i < current) p.classList.add("flipped","behind");
    else if(i === current) p.classList.add("current");
  });

  indicator.innerText = `P√°gina ${current + 1} de ${images.length}`;
}

// ===== NAVIGATION =====
function next() {
  if(current < images.length - 1) {
    current++;
    render();
  }
}

function prev() {
  if(current > 0) {
    current--;
    render();
  }
}

// ===== ZOOM =====
function openZoom(src){
  document.getElementById("zoomImg").src = src;
  document.getElementById("zoom").style.display = "flex";
}

function closeZoom(){
  document.getElementById("zoom").style.display = "none";
}

// ===== FULLSCREEN =====
function toggleFullscreen(){
  if(!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
}

// ===== SWIPE SUPPORT =====
let startX = 0;
let endX = 0;

book.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
});

book.addEventListener("touchend", e => {
  endX = e.changedTouches[0].clientX;
  handleSwipe();
});

function handleSwipe(){
  const diff = startX - endX;
  if(Math.abs(diff) > 50){
    if(diff > 0) next();
    else prev();
  }
}

// ===== INIT =====
render();
</script>

</body>
</html>
