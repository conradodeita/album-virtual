<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Álbum Virtual Realista</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
  background:#e5e5e5;
  font-family:Arial,Helvetica,sans-serif;
  overflow:hidden;
}

/* ===== STAGE ===== */
#stage{
  position:absolute;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  perspective:3500px;
}

/* ===== BOOK ===== */
#book{
  width:min(94vw,1100px);
  aspect-ratio:2 / 1;
  position:relative;
  display:flex;
  transform-style:preserve-3d;
}

/* ===== MOBILE ===== */
body.mobile #book{
  aspect-ratio:1 / 1;
}

/* ===== PAGE ===== */
.page{
  flex:1;
  background:#fff;
  border-radius:10px;
  overflow:hidden;
  position:relative;
  box-shadow:
    0 8px 25px rgba(0,0,0,.25),
    inset 0 0 0 1px #ddd;
}

.page img{
  width:100%;
  height:100%;
  object-fit:contain;
  background:#fff;
  pointer-events:none;
}

/* ===== SPINE ===== */
#spine{
  width:26px;
  background:linear-gradient(to right,#ddd,#f8f8f8,#ddd);
  box-shadow:
    inset -3px 0 6px rgba(0,0,0,.15),
    inset 3px 0 6px rgba(255,255,255,.7);
}

/* ===== DRAG PAGE ===== */
#dragPage{
  position:absolute;
  top:0;
  right:0;
  width:50%;
  height:100%;
  transform-origin:left center;
  pointer-events:none;
  backface-visibility:hidden;
  border-radius:10px;
  overflow:hidden;
  background:white;
  box-shadow:0 12px 30px rgba(0,0,0,.35);
}

/* Curvatura fake */
#dragPage::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    linear-gradient(115deg,
      rgba(255,255,255,.9),
      rgba(255,255,255,0) 40%,
      rgba(0,0,0,.25) 75%);
  pointer-events:none;
}

/* ===== SHADOW ===== */
#shadow{
  position:absolute;
  inset:0;
  pointer-events:none;
  background:linear-gradient(to left,rgba(0,0,0,.45),transparent);
  opacity:0;
}

/* ===== BUTTONS ===== */
.nav-btn{
  position:fixed;
  top:50%;
  transform:translateY(-50%);
  padding:14px 18px;
  font-size:18px;
  background:rgba(255,255,255,.9);
  border:1px solid #ccc;
  border-radius:8px;
  cursor:pointer;
}

#prevBtn{ left:18px; }
#nextBtn{ right:18px; }

body.mobile .nav-btn{ display:none; }

/* ===== INDICATOR ===== */
#indicator{
  position:fixed;
  bottom:14px;
  width:100%;
  text-align:center;
  font-size:14px;
  color:#444;
}
</style>
</head>

<body>

<button id="prevBtn" class="nav-btn">◀</button>
<button id="nextBtn" class="nav-btn">▶</button>

<div id="stage">
  <div id="book">
    <div class="page" id="left"></div>
    <div id="spine"></div>
    <div class="page" id="right"></div>

    <div id="dragPage"></div>
    <div id="shadow"></div>
  </div>
</div>

<div id="indicator"></div>

<script>
// ================= IMAGES =================
const images = [
 "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/y5OULgSkTfmEFevVH6Sf_loR35892Czc/Dy85mrv_jbZUp1onboKxfJJyYVSz1JUI/U4y1x4H6X9pCsFBn2RAH-qGGC4IFVPta/uWbrLQxih0WNi86HfJcUhzy8Oli73U59.jpg",
 "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/qNEexo_dNL8-0oCofAljcVJFCTV3ZNlV/bdDGeVS7xD1w9l9IcE0L6z8vmYH8FFbe/A9zTFht7a6E7ez6hREaW3YOtprh60w0u/Wi1bdshLwU4.jpg",
 "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/Pw65VlFkMsO6lQV4CDlyrWsjXSkEz0Ah/c1i9ixp9Tg4A9hTDQdcO1Dxc_yoBdACL/FPfIlczoHtlqVb5752-w7QR0voXhMX9o/RQShPhBhB68.jpg",
 "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/zZqnEvAAIq6FvmDfHTFJsBgKq8WvL3nN/etBmGlCmqocfOuTYTj47VdmnJUlMdJQb/5pfWbmfSHzYVP2ZQTXxT0z3RwnNp6C5_/T83uCi3ltVc.jpg",
 "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/jiBuVFhkgxZMh4Wla0d04ExhZSW-9Y09/SZWHP4lTKay1zdNJyyl_XcVtWr2o6qxm/mpIIlAh7ux9fboPNVlRqOXz3N0GVMkMP/eVq_OU5Y-FU.jpg",
 "https://static.wfolio.com/file/AqiFFw_TXMM4LDwoI2TPSYAM1lHVLAGB/F3eUE25SDaCuzHhNj6Pu6JOqhHkcmUkD/8gCM3saGL9vugTjFfIGW6HRjn6Ohg-Te/Z8J9OcgsHBZyJ6UI6sTsHRFqZFRF-a7M/bzylEzdicq9A1agfjdUp34Q1wfpHF8Eb/fGgeWxfcm1A.jpg"
];

// ================= CORE =================
let index = 0;
let animating = false;

const left = document.getElementById("left");
const right = document.getElementById("right");
const dragPage = document.getElementById("dragPage");
const shadow = document.getElementById("shadow");
const indicator = document.getElementById("indicator");
const book = document.getElementById("book");

const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");

// ================= MOBILE =================
function detectMobile(){
  document.body.classList.toggle("mobile", window.innerWidth < 760);
}
window.addEventListener("resize", detectMobile);
detectMobile();

// ================= RENDER =================
function render(){
  if(document.body.classList.contains("mobile")){
    left.innerHTML = "";
    right.innerHTML = images[index] ? `<img src="${images[index]}">` : "";
    indicator.innerText = `${index+1} / ${images.length}`;
  }else{
    left.innerHTML  = images[index-1] ? `<img src="${images[index-1]}">` : "";
    right.innerHTML = images[index]   ? `<img src="${images[index]}">`   : "";
    indicator.innerText = `${index+1}-${Math.min(index+2,images.length)} / ${images.length}`;
  }
}
render();

// ================= FLIP NEXT =================
function flipNext(){
  if(animating) return;
  if(index >= images.length-1) return;
  animating = true;

  dragPage.innerHTML = `<img src="${images[index]}">`;
  dragPage.style.transition = "transform .7s cubic-bezier(.3,.8,.2,1)";
  dragPage.style.transform = "rotateY(-180deg)";
  shadow.style.opacity = 0.5;

  setTimeout(()=>{
    dragPage.style.transition = "";
    dragPage.style.transform = "";
    dragPage.innerHTML = "";
    index += document.body.classList.contains("mobile") ? 1 : 2;
    shadow.style.opacity = 0;
    animating = false;
    render();
  },700);
}

// ================= FLIP PREV =================
function flipPrev(){
  if(animating) return;
  if(index <= 0) return;
  animating = true;

  index -= document.body.classList.contains("mobile") ? 1 : 2;
  if(index < 0) index = 0;

  render();
  animating = false;
}

// ================= EVENTS =================
nextBtn.onclick = flipNext;
prevBtn.onclick = flipPrev;
</script>

</body>
</html>
